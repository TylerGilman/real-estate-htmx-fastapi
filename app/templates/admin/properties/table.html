{# templates/admin/properties/table.html #}
<div class="stats-grid">
    <div class="stat-card">
        <h3>Total Properties</h3>
        <p class="stat-value">{{ total_properties|default(0) }}</p>
    </div>
    <div class="stat-card">
        <h3>Active Listings</h3>
        <p class="stat-value">{{ active_listings|default(0) }}</p>
    </div>
    <div class="stat-card">
        <h3>Total Value</h3>
        <p class="stat-value">
            {% if total_value and total_value > 0 %}
                ${{ "{:,.2f}".format(total_value / 1_000_000) }}M
            {% else %}
                $0
            {% endif %}
        </p>
    </div>
    <div class="stat-card">
        <h3>Average Price</h3>
        <p class="stat-value">
            {% if avg_price and avg_price > 0 %}
                ${{ "{:,.0f}".format(avg_price / 1_000) }}K
            {% else %}
                $0
            {% endif %}
        </p>
    </div>
</div>

<div class="admin-table" id="properties-table">
    <div class="table-responsive">
        <table>
            <thead>
                <tr>
                    <th>Property</th>
                    <th>Details</th>
                    <th>Status & Price</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for property in properties %}
                    {% include "admin/properties/table_row.html" %}
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
