<div class="image-gallery">
    {% include "admin/properties/image_list.html" %}
    
    <div class="upload-section">
        <form hx-post="/admin/properties/{{ property.property_id }}/images"
              hx-encoding="multipart/form-data"
              hx-target="#image_list"
              class="upload-form">
            <label class="file-upload-label">
                <span>Add Images</span>
                <input type="file" 
                       name="file" 
                       accept=".jpg,.jpeg,.png,.webp"
                       hx-post="/admin/properties/{{ property.property_id }}/images"
                       hx-encoding="multipart/form-data"
                       hx-trigger="change"
                       hx-target="#image-list"
                       hx-swap="outerHTML">
            </label>
            <div class="upload-help">
                Max 5MB per image. JPG, PNG or WebP only.
            </div>
        </form>
    </div>
</div>

<style>
.image-gallery {
    margin-top: 2rem;
}

.current-images {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1rem;
}

.image-container {
    position: relative;
    border-radius: 0.5rem;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.image-container img {
    width: 100%;
    height: 150px;
    object-fit: cover;
}

.image-actions {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(0, 0, 0, 0.7);
    padding: 0.5rem;
    display: flex;
    gap: 0.5rem;
    opacity: 0;
    transition: opacity 0.2s;
}

.image-container:hover .image-actions {
    opacity: 1;
}

.set-primary-btn,
.delete-btn {
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    border: none;
    cursor: pointer;
}

.set-primary-btn {
    background: var(--swedish-blue);
    color: white;
}

.set-primary-btn.active {
    background: var(--swedish-navy);
}

.delete-btn {
    background: #ef4444;
    color: white;
}

.upload-section {
    margin-top: 2rem;
    padding: 2rem;
    border: 2px dashed var(--swedish-gray);
    border-radius: 0.5rem;
    text-align: center;
}

.file-upload-label {
    display: inline-block;
    padding: 0.75rem 1.5rem;
    background: var(--swedish-accent);
    color: var(--swedish-navy);
    border-radius: 0.5rem;
    cursor: pointer;
    transition: background-color 0.2s;
}

.file-upload-label:hover {
    background: var(--swedish-gray);
}

.upload-help {
    margin-top: 0.5rem;
    font-size: 0.875rem;
    color: var(--swedish-text);
    opacity: 0.8;
}

.hidden {
    display: none;
}
</style>
