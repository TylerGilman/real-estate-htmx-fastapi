<div class="stats-grid">
    <div class="stat-card">
        <h3>Total Agents</h3>
        <p class="stat-value">{{ total_agents|default(0) }}</p>
    </div>
    <div class="stat-card">
        <h3>Total Sales</h3>
        <p class="stat-value">
            {% if total_sales and total_sales > 0 %}
                ${{ "{:,.2f}".format(total_sales / 1_000_000) }}M
            {% else %}
                $0
            {% endif %}
        </p>
    </div>
    <div class="stat-card">
        <h3>Active Listings</h3>
        <p class="stat-value">{{ total_listings|default(0) }}</p>
    </div>
    <div class="stat-card">
        <h3>Total Commissions</h3>
        <p class="stat-value">
            {% if total_commissions and total_commissions > 0 %}
                ${{ "{:,.2f}".format(total_commissions / 1_000) }}K
            {% else %}
                $0
            {% endif %}
        </p>
    </div>
</div>

<div class="admin-table">
    <div class="table-responsive" id="agents-list" name="agents-list">
        <div class="table-row table-header">
            <div class="table-cell">Agent Name</div>
            <div class="table-cell">Contact Info</div>
            <div class="table-cell">License Info</div>
            <div class="table-cell">Performance</div>
            <div class="table-cell">Actions</div>
        </div>

        {% for agent in agents|default([]) %}
            {% include "admin/agents/agent_row.html" %}
        {% endfor %}
    </div>
</div>
